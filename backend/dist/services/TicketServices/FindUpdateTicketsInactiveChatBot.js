'use strict';
function a() {
    const x = [
        'ers/socket',
        'deList\x27)\x20a',
        'ets\x22\x20t\x0a\x20\x20\x20',
        'userId',
        'fig->\x27conf',
        'seMessage\x27',
        '1819960CfuIFY',
        'ticket:upd',
        '../../mode',
        '\x22contactId',
        'log',
        'QueryTypes',
        'fault',
        'on_array_e',
        '__esModule',
        '\x20t.\x22lastIn',
        '>\x27configur',
        'l\x20as\x20time_',
        '102915Zynwsg',
        '../../help',
        '->\x27time\x27,\x20',
        'map',
        'tenantId',
        'tions\x27->\x27n',
        'at(config-',
        'd\x20cf.id\x20=\x20',
        '526014NAqFIl',
        '\x20\x20\x20where\x20t',
        'stiny\x0a\x20\x20\x20\x20',
        'value',
        'queueId',
        'ENT_TIMEST',
        'ate',
        'n,\x0a\x20\x20\x20\x20con',
        'erty',
        'igurations',
        '\x27\x20MINUTES\x27',
        'action,\x0a\x20\x20',
        '248982akJtmz',
        'type',
        'figuration',
        'ractionBot',
        'defineProp',
        'sSEaf',
        'YAyXZ',
        'SELECT',
        '4puvJrg',
        'ge\x27->\x27dest',
        'hRFrI',
        '\x0a\x20\x20\x20\x20and\x20(',
        'destiny',
        '\x20MINUTES\x27)',
        'iny\x27\x20as\x20de',
        'ponseMessa',
        '::interval',
        'notRespons',
        'cat(config',
        'from\x20\x22Tick',
        'll)\x0a\x20\x20',
        '1627318SazHpU',
        'ls/Ticket',
        'Emit',
        '\x22,\x0a\x20\x20\x20\x20--t',
        '\x0a\x20\x20\x20\x20selec',
        '\x20destino.\x20',
        '\x20\x20\x20\x20and\x20co',
        'pe\x27\x20=\x20\x27con',
        '\x27configura',
        'rId\x22\x20is\x20nu',
        '\x22\x20=\x20cf.\x22te',
        '\x27notRespon',
        '10fPDQZg',
        '->\x27configu',
        't.\x22chatFlo',
        '\x22\x20is\x20null\x20',
        '382362wowPJZ',
        ',\x0a\x20\x20\x20\x20--t.',
        'ross\x20join\x20',
        'all',
        ')::interva',
        's\x20config\x0a\x20',
        '\x27pending\x27\x0a',
        '.status\x20=\x20',
        'otResponse',
        'payload',
        '\x20\x20config->',
        'sequelize',
        'wId\x22\x0a\x20\x20\x20\x20c',
        's\x27\x0a\x20\x20\x20\x20and',
        '\x27->\x27notRes',
        '\x0a\x20\x20\x20\x20--con',
        'nantId\x22\x20an',
        'Ticket\x20sem',
        'type_actio',
        'ations\x27->\x27',
        'g->\x27config',
        '.\x22lastInte',
        't\x0a\x20\x20\x20\x20t.id',
        'AMP\x20-\x20conc',
        '__importDe',
        'and\x20t.\x22use',
        'update',
        'nfig->>\x27ty',
        'urations\x27,',
        '.flow->\x27no',
        'default',
        't.\x22queueId',
        'query',
        'n\x20\x22ChatFlo',
        'eMessage\x27-',
        'lements(cf',
        'ot\x22\x20<\x20CURR',
        'et:',
        'findByPk',
        '>\x27time\x27,\x20\x27',
        'w\x22\x20cf\x20on\x20t',
        'rations\x27->',
        'ID\x20do\x20tick',
        '413970htyqAR',
        'Message\x27->',
        '.status,\x0a\x20',
        'teractionB',
        'lateral\x20js',
        '\x27type\x27\x20as\x20',
        '\x20\x20\x20--confi',
        '\x20inner\x20joi',
        '.\x22tenantId'
    ];
    a = function () {
        return x;
    };
    return a();
}
const q = b, r = b;
(function (c, d) {
    const o = b, p = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(o(0x1a1)) / (0xf9a * 0x2 + 0x1857 + 0x2 * -0x1bc5) + parseInt(p(0x172)) / (0x1c1e + -0xd0a + -0x506 * 0x3) + parseInt(o(0x147)) / (-0xb * 0x16d + 0x1520 + -0x5 * 0x116) * (-parseInt(o(0x1a9)) / (-0x3 * 0x211 + -0xf16 + -0x1 * -0x154d)) + -parseInt(o(0x143)) / (-0x1471 + -0x1d3 * -0x4 + 0xd2a) * (parseInt(o(0x195)) / (0x1 * 0x2472 + 0x1 * 0xabe + -0x2f2a)) + parseInt(p(0x1b6)) / (-0xd27 + -0x20d0 + 0x2dfe) + parseInt(o(0x181)) / (-0x18ab + -0x35b * -0x7 + 0x136) + parseInt(p(0x18d)) / (-0x205e + -0x509 * 0x7 + 0x43a6);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0xa * -0x477d + 0x2cad9 + 0x1eea0));
var __importDefault = this && this[q(0x15f) + r(0x187)] || function (c) {
    const s = q;
    return c && c[s(0x189)] ? c : { 'default': c };
};
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x1b79 + -0x2f4 + 0x14b * -0x12);
        let h = e[f];
        return h;
    }, b(c, d);
}
const k = {};
k[q(0x198)] = !![], Object[r(0x1a5) + q(0x19d)](exports, r(0x189), k);
const sequelize_1 = require(q(0x152)), Ticket_1 = __importDefault(require(r(0x183) + r(0x1b7))), socketEmit_1 = __importDefault(require(q(0x18e) + r(0x17b) + q(0x1b8))), FindUpdateTicketsInactiveChatBot = async () => {
        const t = q, u = r, e = {};
        e[t(0x1ab)] = t(0x158) + u(0x1bb) + t(0x171) + u(0x16c), e[t(0x1a6)] = function (j, l) {
            return j == l;
        }, e[u(0x1a7)] = u(0x182) + u(0x19b);
        const f = e, g = u(0x1ba) + u(0x15d) + u(0x148) + u(0x184) + t(0x1b9) + t(0x15c) + t(0x1a4) + t(0x1b9) + t(0x174) + u(0x178) + u(0x15b) + u(0x163) + t(0x156) + t(0x1b3) + u(0x144) + t(0x170) + t(0x142) + u(0x180) + u(0x18f) + u(0x19f) + t(0x14b) + u(0x18c) + t(0x1a0) + u(0x151) + t(0x13f) + t(0x192) + u(0x14f) + t(0x173) + t(0x177) + t(0x159) + t(0x19c) + t(0x17f) + t(0x19e) + t(0x155) + t(0x1b0) + t(0x1aa) + t(0x1af) + u(0x197) + t(0x1b4) + t(0x17d) + u(0x179) + u(0x168) + t(0x16f) + u(0x17a) + t(0x141) + u(0x157) + t(0x194) + t(0x145) + t(0x153) + u(0x149) + t(0x176) + t(0x188) + u(0x16a) + u(0x164) + u(0x17c) + t(0x14c) + t(0x196) + t(0x14e) + t(0x14d) + t(0x1bc) + u(0x162) + u(0x1bd) + u(0x1a3) + u(0x154) + u(0x18a) + t(0x175) + u(0x16b) + t(0x19a) + t(0x15e) + t(0x193) + u(0x18b) + u(0x15a) + u(0x1b2) + u(0x169) + u(0x16e) + t(0x1ae) + u(0x1b1) + u(0x1ac) + t(0x166) + t(0x146) + u(0x160) + u(0x140) + u(0x1b5), h = {};
        h[u(0x1a2)] = sequelize_1[t(0x186)][t(0x1a8)];
        const i = await Ticket_1[t(0x165)][t(0x152)]?.[u(0x167)](g, h);
        await Promise[u(0x14a)](i[u(0x190)](async j => {
            const v = u, w = t;
            if (!j[v(0x1ad)]) {
                console[v(0x185)](f[v(0x1ab)], j['id']);
                return;
            }
            const l = await Ticket_1[v(0x165)][w(0x16d)](j['id']);
            if (l) {
                const m = {
                    'chatFlowId': null,
                    'stepChatFlow': null,
                    'botRetries': 0x0,
                    'lastInteractionBot': new Date()
                };
                f[v(0x1a6)](j[w(0x159) + 'n'], 0x1 * 0x23e7 + 0x1 * 0x26ba + -0x4aa0) && (m[w(0x199)] = j[v(0x1ad)]);
                f[w(0x1a6)](j[w(0x159) + 'n'], -0x12f9 + 0x1 * 0x1e9f + -0xa * 0x12a) && (m[v(0x17e)] = j[v(0x1ad)]);
                await l[w(0x161)](m);
                const n = {};
                n[v(0x191)] = l[v(0x191)], n[w(0x1a2)] = f[w(0x1a7)], n[v(0x150)] = l, (0x1 * 0x215f + 0x1735 + -0x3894, socketEmit_1[v(0x165)])(n);
            }
        }));
    };
exports[q(0x165)] = FindUpdateTicketsInactiveChatBot;