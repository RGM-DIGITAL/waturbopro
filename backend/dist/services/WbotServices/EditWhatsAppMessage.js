'use strict';
const R = b, S = b;
(function (c, d) {
    const P = b, Q = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(P(0x1ac)) / (-0x2660 + -0x1e8d + -0x6 * -0xb7d) + -parseInt(Q(0x1c7)) / (0xe3 * -0x17 + 0x1e3a + -0x9d3) * (-parseInt(P(0x1ce)) / (-0x17 * 0x1 + -0xe0c + -0xe26 * -0x1)) + parseInt(Q(0x1a3)) / (-0x2 * 0x155 + -0xe7d * 0x1 + 0x112b) * (-parseInt(P(0x1b1)) / (-0x10c0 + 0x13f1 + -0x1d * 0x1c)) + -parseInt(Q(0x1a1)) / (0xb0d + -0x1 * 0x1ce4 + 0x11 * 0x10d) * (parseInt(Q(0x194)) / (0x1e07 + 0x1 * -0x1b52 + -0x1 * 0x2ae)) + -parseInt(Q(0x1e0)) / (0x2 * -0x1d2 + -0x2068 + 0x2414) * (parseInt(P(0x1c3)) / (0x116 * -0x4 + -0x22 * 0xd3 + 0x2067)) + -parseInt(P(0x1b7)) / (-0x23f1 * 0x1 + -0xb31 + 0x2f2c) * (parseInt(P(0x1c5)) / (0x1328 + -0x1100 + 0x1 * -0x21d)) + parseInt(P(0x1bf)) / (0x3a2 * -0x9 + 0x102b * 0x2 + 0x68);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x11e7fc + -0x10b8d8 + -0x8b15 * -0x59));
function a() {
    const W = [
        'edited',
        'leys',
        'messageId',
        'message',
        'hdiKI',
        'NyXKf',
        'findOne',
        'ers/GetTic',
        'payload',
        '../../erro',
        'ls/Message',
        'ticketId',
        'erty',
        '27864BJtGcl',
        'text',
        'include',
        '\x20found\x20wit',
        '28WYXVhz',
        'remoteJid',
        'sendMessag',
        'lnuBQ',
        'No\x20message',
        'chat:updat',
        'key',
        '__esModule',
        'where',
        'ERR_FINDIN',
        'createdAt',
        'rs/AppErro',
        'ZKwcS',
        '844224vguAVi',
        'G_MSG',
        '492LJiWJV',
        'Emit',
        'h\x20this\x20ID.',
        '../../mode',
        'zpElt',
        'model',
        'ls/Ticket',
        'ZCzhu',
        'uwfDO',
        '1638995RdtgnF',
        'default',
        'getTime',
        'value',
        'tenantId',
        '5765lfwVDT',
        'TxFJy',
        'defineProp',
        'mzzfr',
        'XCTDc',
        'xPbDl',
        '10qksVwr',
        'Kxeij',
        'ers/socket',
        'kuNYx',
        'contact',
        'kfFtn',
        'ERR_EDITIN',
        'ketWbotBai',
        '2463120gtRtoE',
        '../../help',
        'TyOip',
        'quotedMsg',
        '2979hJkFdR',
        'ticket',
        '9349747ycuVdb',
        'qByEO',
        '3525358BWJhEM',
        'fault',
        'edit',
        'AbIvh',
        'G_WAPP_MSG',
        'type',
        'update',
        '3sJoeMi',
        'YXlmw',
        'dataJson',
        'parse',
        '__importDe'
    ];
    a = function () {
        return W;
    };
    return a();
}
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x2 * 0x3e1 + -0x2f1 * 0x8 + 0x1157);
        let h = e[f];
        return h;
    }, b(c, d);
}
var __importDefault = this && this[R(0x1d2) + R(0x1c8)] || function (c) {
    const T = R;
    return c && c[T(0x19b)] ? c : { 'default': c };
};
const k = {};
k[R(0x1af)] = !![], Object[S(0x1b3) + S(0x1df)](exports, R(0x19b), k);
const AppError_1 = __importDefault(require(S(0x1dc) + R(0x19f) + 'r')), GetTicketWbotBaileys_1 = __importDefault(require(R(0x1c0) + S(0x1da) + S(0x1be) + S(0x1d4))), Message_1 = __importDefault(require(R(0x1a6) + S(0x1dd))), Ticket_1 = __importDefault(require(R(0x1a6) + S(0x1a9))), socketEmit_1 = __importDefault(require(R(0x1c0) + R(0x1b9) + R(0x1a4))), EditWhatsAppMessage = async ({
        messageId: o,
        tenantId: p,
        body: q
    }) => {
        const U = R, V = S, r = {};
        r[U(0x1d7)] = U(0x198) + U(0x193) + V(0x1a5), r[V(0x1ca)] = V(0x1bd) + U(0x1cb), r[V(0x1aa)] = V(0x1c4), r[V(0x1b8)] = U(0x1bb), r[V(0x1c1)] = function (z, A) {
            return z === A;
        }, r[V(0x1b4)] = V(0x1a0), r[V(0x1d8)] = U(0x19d) + U(0x1a2), r[V(0x1ba)] = function (z, A) {
            return z / A;
        }, r[U(0x197)] = function (z, A) {
            return z - A;
        }, r[V(0x1bc)] = function (z, A) {
            return z > A;
        }, r[V(0x1c6)] = V(0x1a7), r[V(0x1ab)] = V(0x1cf), r[U(0x1b5)] = function (z, A) {
            return z !== A;
        }, r[U(0x1b2)] = V(0x199) + 'e', r[U(0x1b6)] = U(0x1c2);
        const s = r;
        let t;
        try {
            const y = {};
            y[V(0x1d5)] = o, y[U(0x1b0)] = p;
            const z = {};
            z[V(0x1a8)] = Ticket_1[V(0x1ad)], z['as'] = s[U(0x1aa)], z[U(0x192)] = [s[U(0x1b8)]];
            const A = {};
            A[V(0x19c)] = y, A[V(0x192)] = [z], t = await Message_1[U(0x1ad)][U(0x1d9)](A);
            if (!t) {
                if (s[U(0x1c1)](s[V(0x1b4)], s[V(0x1b4)]))
                    throw new AppError_1[(U(0x1ad))](s[U(0x1d7)]);
                else
                    throw new y[(V(0x1ad))](s[U(0x1d7)]);
            }
        } catch (C) {
            throw new AppError_1[(V(0x1ad))](s[U(0x1d8)]);
        }
        const {ticket: u} = t, v = await (-0x1 * 0x2351 + 0x2416 + -0xc5, GetTicketWbotBaileys_1[U(0x1ad)])(u), w = JSON[U(0x1d1)](t[U(0x1d0)]), x = w[U(0x19a)][V(0x195)];
        try {
            const D = {};
            D[U(0x191)] = q, D[V(0x1c9)] = w[V(0x19a)], await v[V(0x196) + 'e'](x, D, {});
            const E = s[V(0x1ba)](s[V(0x197)](new Date()[V(0x1ae)](), new Date(t[U(0x19e)])[V(0x1ae)]()), -0x8e42 + -0x22d9 + 0xa8d * 0x27);
            if (s[U(0x1bc)](E, -0xacb + -0xeea + 0x19bf)) {
                if (s[V(0x1c1)](s[U(0x1c6)], s[U(0x1ab)]))
                    throw new d[(V(0x1ad))](s[V(0x1ca)]);
                else
                    throw new AppError_1[(V(0x1ad))](s[U(0x1ca)]);
            }
            if (s[U(0x1b5)](t[U(0x1d3)], null))
                throw new AppError_1[(V(0x1ad))](s[V(0x1ca)]);
            const F = {};
            F[U(0x1d3)] = q, await t[U(0x1cd)](F);
            const {ticket: G} = t, H = {};
            H[U(0x1b0)] = G[V(0x1b0)], H[V(0x1cc)] = s[V(0x1b2)], H[U(0x1db)] = t, (-0x162b + 0x38d * -0x3 + 0x20d2, socketEmit_1[U(0x1ad)])(H);
            const I = {};
            I[U(0x1d5)] = o, I[V(0x1b0)] = p;
            const J = {};
            J[V(0x1a8)] = Ticket_1[V(0x1ad)], J['as'] = s[U(0x1aa)], J[U(0x192)] = [s[V(0x1b8)]];
            const K = {};
            K[U(0x1b0)] = p;
            const L = await Message_1[V(0x1ad)][V(0x1d9)]({
                    'where': I,
                    'include': [
                        J,
                        {
                            'model': Message_1[V(0x1ad)],
                            'as': s[U(0x1b6)],
                            'include': [s[V(0x1b8)]],
                            'where': K,
                            'required': ![]
                        }
                    ]
                }), M = {};
            return M[U(0x1de)] = L[V(0x1de)], M[V(0x1d6)] = L, M;
        } catch (O) {
            throw new AppError_1[(V(0x1ad))](s[V(0x1ca)]);
        }
    };
exports[R(0x1ad)] = EditWhatsAppMessage;