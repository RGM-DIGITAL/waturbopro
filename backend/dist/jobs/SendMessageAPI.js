'use strict';
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x2049 + -0x48b + -0x1a36);
        let h = e[f];
        return h;
    }, b(c, d);
}
const J = b, K = b;
(function (c, d) {
    const H = b, I = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(H(0x1b2)) / (-0x29 * 0x53 + 0x494 + 0x8b8) * (parseInt(H(0x1d4)) / (0x1d76 + -0x11c9 + -0xbab * 0x1)) + -parseInt(I(0x1e6)) / (0x246d + 0x6a7 + 0x89d * -0x5) * (parseInt(H(0x18d)) / (0xb * 0x236 + -0x891 * 0x1 + -0xfbd)) + -parseInt(I(0x1b3)) / (-0x8d9 + -0x2ba + 0xb98) + -parseInt(H(0x1b0)) / (0x20d6 + 0x80 * -0x43 + 0x4 * 0x2c) + -parseInt(I(0x1d9)) / (0x20c7 * -0x1 + 0xbc9 * -0x2 + -0xb0 * -0x52) + parseInt(I(0x1de)) / (-0x763 * 0x4 + 0x1880 + -0x4 * -0x145) * (-parseInt(H(0x1bf)) / (-0x123f + -0x1bd2 + -0x2 * -0x170d)) + parseInt(I(0x1d0)) / (-0x22 * -0x1b + -0x1397 + 0x100b);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x4042 * -0x8 + 0x33aee + 0x5 * 0xc7db));
function a() {
    const O = [
        'fault',
        's/TicketSe',
        'attempts',
        'getWbot',
        'defineProp',
        'eue',
        'number',
        'yNTRx',
        'unreadMess',
        'payload',
        '2455212qylrzS',
        'tServices/',
        '1ZyLCxV',
        '270105zeaBrx',
        'adNJP',
        'findOne',
        'SendMessag',
        'msg',
        'error\x20sess',
        'status',
        'messageId',
        'rvices/Fin',
        'exists',
        'value',
        'dOrCreateT',
        '71541JuaAVS',
        'pp.net',
        'url',
        'rFuWT',
        'removeOnFa',
        'ack',
        'pZAex',
        'gtivJ',
        'Status',
        'error',
        'update',
        'sessionId',
        'urlMessage',
        'default',
        'channel',
        'add',
        './../servi',
        '15929810RSwaRj',
        'ces/Contac',
        'ticket',
        'eSystemSer',
        '334498qDiKau',
        'eateMessag',
        'jid',
        'icketServi',
        'sendType',
        '460040BCREVJ',
        's/MessageS',
        'delay',
        'apRvC',
        '../errors/',
        '40iXwzIQ',
        'Contact',
        'eAPI',
        'ion',
        'AppError',
        'apiConfig',
        '../libs/wb',
        'ot-baileys',
        '1563405okKZXv',
        'tenantId',
        '../service',
        '_FOUND',
        'where',
        'mplete',
        'authToken',
        'mfFgL',
        '@$s.whatsa',
        'eStatus',
        '__importDe',
        'hookMessag',
        'CreateCont',
        '4EKbcXM',
        '../libs/Qu',
        'name',
        'rnxYD',
        'API',
        'groupConta',
        'vice',
        'split',
        'ervices/Cr',
        'whatsappId',
        'actService',
        'type',
        'externalKe',
        'contact',
        '../models/',
        'WebHooksAP',
        'ages',
        'onWhatsApp',
        '__esModule',
        'body',
        'erty',
        'pending',
        'removeOnCo',
        'whatsapp',
        'NUMBER_NOT'
    ];
    a = function () {
        return O;
    };
    return a();
}
var __importDefault = this && this[J(0x18a) + J(0x1a6)] || function (c) {
    const L = K;
    return c && c[L(0x19f)] ? c : { 'default': c };
};
const x = {};
x[K(0x1bd)] = !![], Object[J(0x1aa) + J(0x1a1)](exports, J(0x19f), x);
const Queue_1 = __importDefault(require(K(0x18e) + J(0x1ab))), FindOrCreateTicketService_1 = __importDefault(require(J(0x1e8) + J(0x1a7) + K(0x1bb) + K(0x1be) + K(0x1d7) + 'ce')), CreateMessageSystemService_1 = __importDefault(require(J(0x1e8) + J(0x1da) + K(0x195) + J(0x1d5) + K(0x1d3) + J(0x193))), wbot_baileys_1 = require(K(0x1e4) + K(0x1e5)), Contact_1 = __importDefault(require(J(0x19b) + J(0x1df))), CreateContactService_1 = __importDefault(require(K(0x1cf) + J(0x1d1) + K(0x1b1) + J(0x18c) + K(0x197))), AppError_1 = __importDefault(require(K(0x1dd) + K(0x1e2))), y = {};
y[J(0x1db)] = 0x1f4, y[K(0x1a8)] = 0x1, y[K(0x1a3) + K(0x1eb)] = !![], y[K(0x1c3) + 'il'] = ![], exports[K(0x1cc)] = {
    'key': K(0x1b6) + J(0x1e0),
    'options': y,
    async 'handle'({data: m}) {
        const M = J, N = K, n = {};
        n[M(0x1c6)] = function (q, r) {
            return q == r;
        }, n[N(0x190)] = M(0x1a5) + M(0x1e9), n[M(0x1ad)] = M(0x1a4), n[M(0x1ed)] = N(0x191), n[M(0x1c2)] = N(0x1a2), n[M(0x1dc)] = N(0x1b8) + N(0x1e1), n[N(0x1c5)] = N(0x18b) + M(0x189), n[N(0x1b4)] = M(0x19c) + 'I';
        const o = n, p = (-0x1078 + -0x24bd + 0x35 * 0x101, wbot_baileys_1[M(0x1a9)])(m[N(0x1ca)]);
        try {
            const q = m[M(0x1ac)] + (N(0x188) + M(0x1c0)), r = await p[M(0x19e)](q);
            if (o[M(0x1c6)](r[0x2b7 * 0xd + 0xb * 0x9d + -0x1 * 0x2a0a][M(0x1bc)], ![]))
                throw new AppError_1[(N(0x1cc))](o[N(0x190)], 0x1f03 + 0x18dc + -0x364b);
            m[M(0x1ac)] = r[0x2 * 0x1f9 + 0x21f9 + -0x23b * 0x11][M(0x1d6)][N(0x194)]('@')[0xa9 * 0x29 + 0x953 * 0x3 + -0x370a];
            const s = {};
            s[M(0x1ac)] = m[M(0x1ac)], s[N(0x1e7)] = m[N(0x1e7)];
            const t = {};
            t[N(0x1ea)] = s;
            let u = await Contact_1[N(0x1cc)][M(0x1b5)](t);
            if (!u) {
                const C = {};
                C[N(0x18f)] = m[M(0x1ac)], C[N(0x1ac)] = m[N(0x1ac)], C[N(0x1e7)] = m[N(0x1e7)], u = await (-0x16a4 + -0x2482 + -0x43 * -0xe2, CreateContactService_1[M(0x1cc)])(C);
            }
            const v = {};
            v[M(0x19a)] = u, v[N(0x196)] = p['id'], v[N(0x1ae) + N(0x19d)] = 0x0, v[M(0x1e7)] = m[M(0x1e7)], v[M(0x192) + 'ct'] = undefined, v[M(0x1cd)] = o[M(0x1ad)];
            const w = await (0x15a1 + -0xb7c + -0x1 * 0xa25, FindOrCreateTicketService_1[M(0x1cc)])(v), z = {};
            z[M(0x1b7)] = m, z[M(0x1e7)] = m[M(0x1e7)], z[N(0x1d2)] = w, z[N(0x1d8)] = o[N(0x1ed)], z[N(0x1b9)] = o[N(0x1c2)], await (-0xc2b + -0x43 * -0x6d + -0x105c, CreateMessageSystemService_1[N(0x1cc)])(z);
            const A = { ...m[N(0x1e3)] };
            A[N(0x199) + 'y'] = m[M(0x199) + 'y'];
            const B = {};
            B[N(0x1e3)] = A, await w[M(0x1c9)](B);
        } catch (D) {
            const E = {};
            E[M(0x1c4)] = -(0x213a + 0x1 * 0x481 + 0x25 * -0x105), E[N(0x1a0)] = m[M(0x1a0)], E[M(0x1ba)] = '', E[N(0x1ac)] = m[M(0x1ac)], E[N(0x199) + 'y'] = m[M(0x199) + 'y'], E[N(0x1c8)] = o[M(0x1dc)], E[N(0x198)] = o[N(0x1c5)], E[N(0x1ec)] = m[N(0x1ec)];
            const F = E;
            if (m?.[N(0x1e3)]?.[N(0x1cb) + N(0x1c7)]) {
                const G = {};
                G[M(0x1c1)] = m[N(0x1e3)][M(0x1cb) + N(0x1c7)], G[M(0x198)] = F[M(0x198)], G[M(0x1af)] = F, Queue_1[M(0x1cc)][N(0x1ce)](o[M(0x1b4)], G);
            }
            throw new Error(D);
        }
    }
};